import { AnalysisResults, DutyAnalysis, PinchEvent } from '@/types/fatigue';

const ULR_DEFAULTS = {
  crewComposition: 'standard' as const,
  restFacilityClass: null,
  isUlr: false,
  acclimatizationState: 'acclimatized' as const,
  ulrCompliance: null,
  inflightRestBlocks: [] as any[],
  returnToDeckPerformance: null,
  preDutyAwakeHours: 0,
};

const generateMockDuties = (): DutyAnalysis[] => {
  const duties: DutyAnalysis[] = [
    {
      date: new Date(2026, 1, 3),
      dayOfWeek: 'Tue',
      dutyHours: 8.2,
      blockHours: 2.5,
      sectors: 2,
      minPerformance: 72.3,
      avgPerformance: 78.5,
      landingPerformance: 75.2,
      sleepDebt: 1.5,
      woclExposure: 0,
      priorSleep: 28.5,
      sleepEstimate: {
        totalSleepHours: 7.9,
        effectiveSleepHours: 7.3,
        sleepEfficiency: 0.88,
        woclOverlapHours: 0.1,
        sleepStrategy: 'anchor',
        confidence: 0.86,
        warnings: [],
      },
      overallRisk: 'LOW',
      minPerformanceRisk: 'LOW',
      landingRisk: 'LOW',
      smsReportable: false,
      circadianPhaseShift: 0,
      sleepQuality: 'excellent',
      sleepEnvironment: 'home',
      flightSegments: [
        { flightNumber: 'QR841', departure: 'DOH', arrival: 'DXB', departureTime: '06:30', arrivalTime: '07:45', blockHours: 1.25, performance: 78.5 },
        { flightNumber: 'QR842', departure: 'DXB', arrival: 'DOH', departureTime: '09:00', arrivalTime: '10:15', blockHours: 1.25, performance: 75.2 }
      ],
      ...ULR_DEFAULTS,
    },
    {
      date: new Date(2026, 1, 7),
      dayOfWeek: 'Sat',
      dutyHours: 10.5,
      blockHours: 10.25,
      sectors: 2,
      minPerformance: 58.4,
      avgPerformance: 64.2,
      landingPerformance: 60.1,
      sleepDebt: 4.2,
      woclExposure: 1.5,
      priorSleep: 22.3,
      sleepEstimate: {
        totalSleepHours: 6.3,
        effectiveSleepHours: 5.2,
        sleepEfficiency: 0.73,
        woclOverlapHours: 1.2,
        sleepStrategy: 'split',
        confidence: 0.72,
        warnings: ['Fragmented sleep with moderate WOCL overlap'],
      },
      overallRisk: 'HIGH',
      minPerformanceRisk: 'HIGH',
      landingRisk: 'MODERATE',
      smsReportable: false,
      circadianPhaseShift: 0,
      sleepQuality: 'fair',
      sleepEnvironment: 'home',
      pinchEvents: [
        { time: '04:30', phase: 'cruise', performance: 58.4, circadian: 0.32, sleepPressure: 0.65, severity: 'high' }
      ],
      flightSegments: [
        { flightNumber: 'QR103', departure: 'DOH', arrival: 'LHR', departureTime: '02:15', arrivalTime: '07:30', blockHours: 5.25, performance: 64.2 },
        { flightNumber: 'QR104', departure: 'LHR', arrival: 'DOH', departureTime: '09:45', arrivalTime: '18:00', blockHours: 5.0, performance: 60.1 }
      ],
      ...ULR_DEFAULTS,
    },
    {
      date: new Date(2026, 1, 8),
      dayOfWeek: 'Sun',
      dutyHours: 6.8,
      blockHours: 5.75,
      sectors: 1,
      minPerformance: 68.9,
      avgPerformance: 72.4,
      landingPerformance: 70.5,
      sleepDebt: 2.1,
      woclExposure: 0.5,
      priorSleep: 26.8,
      overallRisk: 'MODERATE',
      minPerformanceRisk: 'MODERATE',
      landingRisk: 'MODERATE',
      smsReportable: false,
      flightSegments: [
        { flightNumber: 'QR632', departure: 'DOH', arrival: 'BOM', departureTime: '22:30', arrivalTime: '04:15', blockHours: 5.75, performance: 70.5 }
      ],
      ...ULR_DEFAULTS,
    },
    {
      date: new Date(2026, 1, 9),
      dayOfWeek: 'Mon',
      dutyHours: 9.4,
      blockHours: 8.0,
      sectors: 2,
      minPerformance: 55.2,
      avgPerformance: 61.8,
      landingPerformance: 57.3,
      sleepDebt: 5.5,
      woclExposure: 2.0,
      priorSleep: 20.5,
      overallRisk: 'HIGH',
      minPerformanceRisk: 'HIGH',
      landingRisk: 'HIGH',
      smsReportable: false,
      flightSegments: [
        { flightNumber: 'QR633', departure: 'BOM', arrival: 'DOH', departureTime: '05:30', arrivalTime: '08:00', blockHours: 2.5, performance: 61.8 },
        { flightNumber: 'QR174', departure: 'DOH', arrival: 'JFK', departureTime: '10:15', arrivalTime: '17:45', blockHours: 5.5, performance: 57.3 }
      ],
      ...ULR_DEFAULTS,
    },
    {
      date: new Date(2026, 1, 11),
      dayOfWeek: 'Wed',
      dutyHours: 4.3,
      blockHours: 3.5,
      sectors: 1,
      minPerformance: 48.4,
      avgPerformance: 54.1,
      landingPerformance: 50.1,
      sleepDebt: 2.7,
      woclExposure: 2.6,
      priorSleep: 24.4,
      sleepEstimate: {
        totalSleepHours: 5.4,
        effectiveSleepHours: 4.1,
        sleepEfficiency: 0.68,
        woclOverlapHours: 2.4,
        sleepStrategy: 'nap',
        confidence: 0.64,
        warnings: ['High WOCL overlap reduces recovery', 'Low effective sleep may impair landing performance'],
      },
      overallRisk: 'CRITICAL',
      minPerformanceRisk: 'CRITICAL',
      landingRisk: 'CRITICAL',
      smsReportable: true,
      circadianPhaseShift: -8,
      sleepQuality: 'poor',
      sleepEnvironment: 'layover',
      pinchEvents: [
        { time: '03:15', phase: 'approach', performance: 48.4, circadian: 0.22, sleepPressure: 0.78, severity: 'critical' },
        { time: '03:45', phase: 'landing', performance: 50.1, circadian: 0.25, sleepPressure: 0.75, severity: 'critical' }
      ],
      flightSegments: [
        { flightNumber: 'QR175', departure: 'JFK', arrival: 'DOH', departureTime: '01:30', arrivalTime: '20:00', blockHours: 3.5, performance: 50.1 }
      ],
      ...ULR_DEFAULTS,
    },
    {
      date: new Date(2026, 1, 12),
      dayOfWeek: 'Thu',
      dutyHours: 7.5,
      blockHours: 6.5,
      sectors: 2,
      minPerformance: 45.2,
      avgPerformance: 52.8,
      landingPerformance: 47.5,
      sleepDebt: 6.8,
      woclExposure: 3.2,
      priorSleep: 18.2,
      sleepEstimate: {
        totalSleepHours: 4.8,
        effectiveSleepHours: 3.6,
        sleepEfficiency: 0.66,
        woclOverlapHours: 3.1,
        sleepStrategy: 'restricted',
        confidence: 0.6,
        warnings: ['Restricted sleep with substantial WOCL overlap'],
      },
      overallRisk: 'CRITICAL',
      minPerformanceRisk: 'CRITICAL',
      landingRisk: 'CRITICAL',
      smsReportable: true,
      circadianPhaseShift: 5,
      sleepQuality: 'poor',
      sleepEnvironment: 'home',
      pinchEvents: [
        { time: '03:30', phase: 'cruise', performance: 45.2, circadian: 0.18, sleepPressure: 0.82, severity: 'critical' },
        { time: '04:15', phase: 'approach', performance: 47.5, circadian: 0.21, sleepPressure: 0.79, severity: 'critical' }
      ],
      flightSegments: [
        { flightNumber: 'QR512', departure: 'DOH', arrival: 'SIN', departureTime: '02:00', arrivalTime: '14:30', blockHours: 3.5, performance: 52.8 },
        { flightNumber: 'QR513', departure: 'SIN', arrival: 'DOH', departureTime: '16:00', arrivalTime: '20:30', blockHours: 3.0, performance: 47.5 }
      ],
      ...ULR_DEFAULTS,
    },
    {
      date: new Date(2026, 1, 13),
      dayOfWeek: 'Fri',
      dutyHours: 5.2,
      blockHours: 4.25,
      sectors: 1,
      minPerformance: 52.8,
      avgPerformance: 58.4,
      landingPerformance: 54.2,
      sleepDebt: 5.2,
      woclExposure: 1.8,
      priorSleep: 21.5,
      overallRisk: 'HIGH',
      minPerformanceRisk: 'HIGH',
      landingRisk: 'HIGH',
      smsReportable: false,
      flightSegments: [
        { flightNumber: 'QR224', departure: 'DOH', arrival: 'CDG', departureTime: '03:45', arrivalTime: '09:00', blockHours: 4.25, performance: 54.2 }
      ],
      ...ULR_DEFAULTS,
    },
    {
      date: new Date(2026, 1, 15),
      dayOfWeek: 'Sun',
      dutyHours: 8.8,
      blockHours: 8.0,
      sectors: 2,
      minPerformance: 46.5,
      avgPerformance: 53.2,
      landingPerformance: 48.8,
      sleepDebt: 7.2,
      woclExposure: 2.8,
      priorSleep: 19.5,
      overallRisk: 'CRITICAL',
      minPerformanceRisk: 'CRITICAL',
      landingRisk: 'CRITICAL',
      smsReportable: true,
      circadianPhaseShift: 1,
      sleepQuality: 'poor',
      sleepEnvironment: 'layover',
      pinchEvents: [
        { time: '02:45', phase: 'takeoff', performance: 53.2, circadian: 0.28, sleepPressure: 0.72, severity: 'critical' },
        { time: '03:30', phase: 'cruise', performance: 46.5, circadian: 0.20, sleepPressure: 0.80, severity: 'critical' }
      ],
      flightSegments: [
        { flightNumber: 'QR225', departure: 'CDG', arrival: 'DOH', departureTime: '01:00', arrivalTime: '08:30', blockHours: 4.5, performance: 53.2 },
        { flightNumber: 'QR400', departure: 'DOH', arrival: 'BKK', departureTime: '10:30', arrivalTime: '21:00', blockHours: 3.5, performance: 48.8 }
      ],
      ...ULR_DEFAULTS,
    },
    {
      date: new Date(2026, 1, 16),
      dayOfWeek: 'Mon',
      dutyHours: 6.5,
      blockHours: 4.5,
      sectors: 1,
      minPerformance: 44.8,
      avgPerformance: 51.5,
      landingPerformance: 46.2,
      sleepDebt: 8.0,
      woclExposure: 3.5,
      priorSleep: 16.8,
      overallRisk: 'CRITICAL',
      minPerformanceRisk: 'CRITICAL',
      landingRisk: 'CRITICAL',
      smsReportable: true,
      circadianPhaseShift: 4,
      sleepQuality: 'poor',
      sleepEnvironment: 'layover',
      pinchEvents: [
        { time: '02:00', phase: 'cruise', performance: 44.8, circadian: 0.15, sleepPressure: 0.85, severity: 'critical' },
        { time: '03:30', phase: 'landing', performance: 46.2, circadian: 0.18, sleepPressure: 0.82, severity: 'critical' }
      ],
      flightSegments: [
        { flightNumber: 'QR401', departure: 'BKK', arrival: 'DOH', departureTime: '23:30', arrivalTime: '04:00', blockHours: 4.5, performance: 46.2 }
      ],
      ...ULR_DEFAULTS,
    },
    {
      date: new Date(2026, 1, 21),
      dayOfWeek: 'Sat',
      dutyHours: 7.2,
      blockHours: 6.5,
      sectors: 2,
      minPerformance: 71.5,
      avgPerformance: 76.8,
      landingPerformance: 74.2,
      sleepDebt: 1.8,
      woclExposure: 0,
      priorSleep: 30.2,
      overallRisk: 'LOW',
      minPerformanceRisk: 'LOW',
      landingRisk: 'LOW',
      smsReportable: false,
      flightSegments: [
        { flightNumber: 'QR068', departure: 'DOH', arrival: 'IST', departureTime: '08:00', arrivalTime: '12:30', blockHours: 3.5, performance: 76.8 },
        { flightNumber: 'QR069', departure: 'IST', arrival: 'DOH', departureTime: '14:00', arrivalTime: '18:30', blockHours: 3.0, performance: 74.2 }
      ],
      ...ULR_DEFAULTS,
    },
    {
      date: new Date(2026, 1, 23),
      dayOfWeek: 'Mon',
      dutyHours: 9.8,
      blockHours: 8.5,
      sectors: 2,
      minPerformance: 65.4,
      avgPerformance: 70.2,
      landingPerformance: 67.8,
      sleepDebt: 3.2,
      woclExposure: 0.8,
      priorSleep: 25.5,
      overallRisk: 'MODERATE',
      minPerformanceRisk: 'MODERATE',
      landingRisk: 'MODERATE',
      smsReportable: false,
      flightSegments: [
        { flightNumber: 'QR752', departure: 'DOH', arrival: 'SYD', departureTime: '19:30', arrivalTime: '16:00', blockHours: 8.5, performance: 70.2 }
      ],
      ...ULR_DEFAULTS,
    },
    {
      date: new Date(2026, 1, 24),
      dayOfWeek: 'Tue',
      dutyHours: 5.8,
      blockHours: 4.5,
      sectors: 1,
      minPerformance: 47.2,
      avgPerformance: 53.8,
      landingPerformance: 49.5,
      sleepDebt: 6.5,
      woclExposure: 2.2,
      priorSleep: 20.8,
      overallRisk: 'CRITICAL',
      minPerformanceRisk: 'CRITICAL',
      landingRisk: 'CRITICAL',
      smsReportable: true,
      circadianPhaseShift: 7,
      sleepQuality: 'poor',
      sleepEnvironment: 'layover',
      pinchEvents: [
        { time: '01:30', phase: 'takeoff', performance: 53.8, circadian: 0.30, sleepPressure: 0.70, severity: 'high' },
        { time: '04:00', phase: 'landing', performance: 49.5, circadian: 0.22, sleepPressure: 0.78, severity: 'critical' }
      ],
      flightSegments: [
        { flightNumber: 'QR753', departure: 'SYD', arrival: 'DOH', departureTime: '22:00', arrivalTime: '05:30', blockHours: 4.5, performance: 49.5 }
      ],
      ...ULR_DEFAULTS,
    },
    {
      date: new Date(2026, 1, 25),
      dayOfWeek: 'Wed',
      dutyHours: 6.2,
      blockHours: 5.25,
      sectors: 1,
      minPerformance: 62.5,
      avgPerformance: 68.4,
      landingPerformance: 65.2,
      sleepDebt: 3.8,
      woclExposure: 1.2,
      priorSleep: 24.2,
      overallRisk: 'MODERATE',
      minPerformanceRisk: 'MODERATE',
      landingRisk: 'MODERATE',
      smsReportable: false,
      circadianPhaseShift: 6,
      sleepQuality: 'fair',
      sleepEnvironment: 'home',
      flightSegments: [
        { flightNumber: 'QR362', departure: 'DOH', arrival: 'NRT', departureTime: '21:45', arrivalTime: '14:00', blockHours: 5.25, performance: 65.2 }
      ],
      ...ULR_DEFAULTS,
    },
    {
      date: new Date(2026, 1, 27),
      dayOfWeek: 'Fri',
      dutyHours: 8.5,
      blockHours: 7.25,
      sectors: 2,
      minPerformance: 45.8,
      avgPerformance: 52.4,
      landingPerformance: 48.2,
      sleepDebt: 7.5,
      woclExposure: 3.0,
      priorSleep: 18.5,
      overallRisk: 'CRITICAL',
      minPerformanceRisk: 'CRITICAL',
      landingRisk: 'CRITICAL',
      smsReportable: true,
      circadianPhaseShift: 6,
      sleepQuality: 'poor',
      sleepEnvironment: 'layover',
      pinchEvents: [
        { time: '02:15', phase: 'cruise', performance: 52.4, circadian: 0.24, sleepPressure: 0.76, severity: 'critical' },
        { time: '05:30', phase: 'landing', performance: 48.2, circadian: 0.35, sleepPressure: 0.72, severity: 'critical' }
      ],
      flightSegments: [
        { flightNumber: 'QR363', departure: 'NRT', arrival: 'DOH', departureTime: '00:30', arrivalTime: '06:45', blockHours: 3.25, performance: 52.4 },
        { flightNumber: 'QR148', departure: 'DOH', arrival: 'FCO', departureTime: '08:30', arrivalTime: '13:00', blockHours: 4.0, performance: 48.2 }
      ],
      ...ULR_DEFAULTS,
    }
  ];

  return duties;
};

export const mockAnalysisResults: AnalysisResults = {
  statistics: {
    totalDuties: 14,
    totalSectors: 23,
    totalDutyHours: 114.5,
    totalBlockHours: 71.75,
    highRiskDuties: 4,
    criticalRiskDuties: 7,
    maxSleepDebt: 8.0,
    totalPinchEvents: 12,
    avgSleepPerNight: 6.2,
    worstPerformance: 52,
    worstDutyId: 'duty-1',
    totalUlrDuties: 0,
    totalAugmentedDuties: 0,
    ulrViolations: [],
  },
  duties: generateMockDuties(),
  generatedAt: new Date(),
  month: new Date(2026, 1, 1)
};
